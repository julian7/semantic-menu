SemanticMenus
=============

It's a semantic menu generator which works well with Lockdown, and has both hierarchical and breadcrumbs support.

Inspired by and based on Daniel Haran's semantic-menu.

Example
=======

  def AdminMenu
    build_menu do |root|
      add "User functions" do |user|
        add "New user..." new_user_path
        add "Manage users" users_path
        add "Manage group access" groups_path
      end
      add "Messages" do |msg|
        add "New message" new_message_path
        add "INBOX" messages_path
      end
    end
  end

You can create a menu in your view like this:

  <%= AdminMenu %>

A path-based breadcrumbs can be generated by this line:

  <%= AdminMenu.to_breadcrumb %>

This menu stores all the path/pagetitle pairs which were visited by the user. It cuts loops,
eg. if you return to a page which is already in the breadcrumb, it will return to the first
occurence. If the session doesn't contain a breadcrumb or it's zero sized (eg. on first visit), a
breadcrumb will be created from the menu structure.

In order to get page title, this breadcrumb generator relies on a method called 'title()'.

Return to previous page
=======================

By using the breadcrumb functionality, a new feature becomes available: the ability of returning to
any page in our history. To use it in a controller:

  class AcmeController < ApplicationController
    include SemanticMenuHelper
    def action
      ...
      redirect_to previous_page(2)
    end

where previous_page(n) returns the local URL of nth previous page, or to the first URL (which is the
root page). 

*** TEMP HACK: now the root url is /<lang>/.

Copyright (c) 2009 Balazs Nagy, released under the MIT license
